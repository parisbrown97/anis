<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Anis</title>

  <style>
    :root{
      --bg:#070A12;
      --card: rgba(17,24,39,0.72);
      --border: rgba(148,163,184,0.18);
      --text:#F8FAFC;
      --muted: rgba(248,250,252,0.72);
      --accent:#355e3b; /* hunter green */
      --shadow: 0 18px 60px rgba(0,0,0,0.55);
      --glow: 0 0 40px rgba(53,94,59,0.35);
      --pink: rgba(236,72,153,0.78);
      --purple: rgba(99,102,241,0.78);
    }

    *{ box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 800px at 20% 15%, rgba(53,94,59,0.18), transparent 60%),
        radial-gradient(900px 600px at 80% 25%, rgba(99,102,241,0.14), transparent 60%),
        radial-gradient(900px 700px at 60% 90%, rgba(236,72,153,0.10), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }

    /* subtle stars */
    .stars{
      position:fixed; inset:0; pointer-events:none; z-index:0;
      background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,0.65), transparent 60%),
        radial-gradient(1px 1px at 120px 80px, rgba(255,255,255,0.45), transparent 60%),
        radial-gradient(1px 1px at 260px 140px, rgba(255,255,255,0.40), transparent 60%),
        radial-gradient(1px 1px at 400px 220px, rgba(255,255,255,0.50), transparent 60%),
        radial-gradient(2px 2px at 520px 60px, rgba(255,255,255,0.32), transparent 60%),
        radial-gradient(1px 1px at 700px 180px, rgba(255,255,255,0.38), transparent 60%);
      background-size: 900px 500px;
      opacity:0.35;
      animation: drift 120s linear infinite;
    }
    @keyframes drift{
      from { background-position: 0 0; }
      to   { background-position: -1400px 900px; }
    }

    .wrap{
      position:relative;
      z-index:1;
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 76px;
      display:flex;
      flex-direction: column;
      gap: 16px;
    }

    .header{
      display:flex;
      justify-content: space-between;
      align-items:flex-start;
      gap: 12px;
      flex-wrap: wrap;
      opacity:0.95;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(17,24,39,0.35);
      backdrop-filter: blur(12px);
    }
    .badge small{ color: var(--muted); }
    .badge strong{ letter-spacing: -0.01em; }

    .card{
      border: 1px solid var(--border);
      border-radius: 24px;
      background: var(--card);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      overflow:hidden;
    }

    .hero{
      padding: 22px 22px 16px;
      border-bottom: 1px solid rgba(148,163,184,0.14);
      position:relative;
    }

    h1{
      margin:0 0 6px;
      font-size: 30px;
      font-weight: 760;
      letter-spacing: -0.02em;
    }
    .sub{
      margin:0;
      color: var(--muted);
      line-height:1.4;
      max-width: 62ch;
      font-size: 15px;
    }

    .moon{
      position:absolute;
      right: -46px;
      top: -54px;
      width: 200px;
      height: 200px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,255,255,0.85), rgba(255,255,255,0.14) 55%, rgba(255,255,255,0.05) 72%, transparent 76%),
        radial-gradient(circle at 60% 60%, rgba(255,255,255,0.16), transparent 60%),
        radial-gradient(circle at 40% 70%, rgba(255,255,255,0.10), transparent 60%);
      filter: drop-shadow(0 0 25px rgba(255,255,255,0.10));
      opacity:0.85;
      transform: rotate(-10deg);
      pointer-events:none;
    }

    /* Envelopes */
    .stage{
      padding: 18px 22px 22px;
    }

    .envelopeGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
      margin-top: 10px;
    }
    @media (max-width: 820px){
      .envelopeGrid{ grid-template-columns: 1fr; }
    }

    .env{
      position:relative;
      border: 1px solid rgba(148,163,184,0.18);
      border-radius: 22px;
      background: rgba(2,6,23,0.28);
      overflow:hidden;
      padding: 16px;
      box-shadow: inset 0 0 0 1px rgba(53,94,59,0.06);
      min-height: 220px;
    }

    .envTop{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .envTop .tag{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(17,24,39,0.28);
      color: rgba(248,250,252,0.82);
      white-space:nowrap;
    }

    .envTitle{
      font-size: 18px;
      font-weight: 740;
      letter-spacing: -0.01em;
      margin: 6px 0 6px;
    }
    .envSub{
      color: var(--muted);
      margin:0 0 14px;
      line-height:1.4;
      font-size: 14px;
      max-width: 55ch;
    }

    .envBtn{
      width: 100%;
      border: none;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 780;
      letter-spacing: -0.01em;
      cursor:pointer;
      background: linear-gradient(90deg, rgba(53,94,59,0.92), rgba(53,94,59,0.62));
      color: var(--text);
      box-shadow: var(--glow);
      transition: transform 120ms ease;
    }
    .envBtn:hover{ transform: translateY(-1px); }
    .envBtn:active{ transform: translateY(0); }

    .envBtn.secondary{
      background: linear-gradient(90deg, rgba(236,72,153,0.82), rgba(99,102,241,0.52));
      box-shadow: 0 0 36px rgba(236,72,153,0.22);
    }

    /* envelope art */
    .envArt{
      position:absolute;
      inset:auto 0 0 0;
      height: 120px;
      pointer-events:none;
      opacity:0.9;
    }
    .envArt .back{
      position:absolute;
      left: 14px; right: 14px; bottom: 14px;
      height: 78px;
      border-radius: 16px;
      background: rgba(17,24,39,0.40);
      border: 1px solid rgba(148,163,184,0.14);
    }
    .envArt .flap{
      position:absolute;
      left: 14px; right: 14px; bottom: 44px;
      height: 58px;
      clip-path: polygon(0 0, 50% 70%, 100% 0, 100% 100%, 0 100%);
      background: rgba(17,24,39,0.55);
      border: 1px solid rgba(148,163,184,0.10);
      transform-origin: top center;
      transition: transform 420ms ease;
    }
    .envArt .heart{
      position:absolute;
      left: 50%;
      bottom: 24px;
      transform: translateX(-50%);
      font-size: 22px;
      filter: drop-shadow(0 0 12px rgba(236,72,153,0.18));
    }
    .env.open .envArt .flap{
      transform: rotateX(160deg);
    }

    .hint{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(248,250,252,0.55);
    }

    /* Letter modal */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      backdrop-filter: blur(8px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 5;
      padding: 18px;
    }
    .modalOverlay.show{ display:flex; }

    .modal{
      width: min(720px, 100%);
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(17,24,39,0.92);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modalTop{
      padding: 14px 16px;
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      border-bottom: 1px solid rgba(148,163,184,0.12);
    }
    .modalTop strong{ letter-spacing: -0.01em; }
    .close{
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(2,6,23,0.35);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      cursor:pointer;
    }
    .modalBody{
      padding: 16px;
      line-height: 1.55;
      color: rgba(248,250,252,0.86);
      white-space: pre-wrap;
      font-size: 15px;
    }
    .modalBody em{ color: rgba(248,250,252,0.70); }

    /* Tickets reveal */
    .ticketArea{
      margin-top: 14px;
      display:none;
      animation: pop 420ms ease-out;
    }
    .ticketArea.show{ display:block; }
    @keyframes pop{
      from { transform: translateY(10px); opacity:0; }
      to   { transform: translateY(0); opacity:1; }
    }

    .ticketVault{
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.16);
      background: rgba(2,6,23,0.28);
      overflow:hidden;
    }

    .vaultTop{
      padding: 14px 14px 12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      border-bottom: 1px solid rgba(148,163,184,0.14);
    }
    .pill{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(17,24,39,0.28);
      color: rgba(248,250,252,0.82);
      white-space:nowrap;
    }

    .ticketGrid{
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 14px;
      padding: 14px;
    }
    @media (max-width: 860px){
      .ticketGrid{ grid-template-columns: 1fr; }
    }

    .ticket{
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(17,24,39,0.30);
      overflow:hidden;
    }
    .ticketHeader{
      padding: 14px 14px 10px;
      border-bottom: 1px dashed rgba(148,163,184,0.18);
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 12px;
    }
    .ticketHeader .meta{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .ticketHeader .meta strong{
      font-size: 16px;
      letter-spacing: -0.01em;
    }
    .ticketHeader .meta span{
      font-size: 13px;
      color: rgba(248,250,252,0.75);
    }
    .stamp{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(53,94,59,0.18);
      border: 1px solid rgba(53,94,59,0.25);
      box-shadow: var(--glow);
      white-space:nowrap;
    }

    .ticketBody{
      padding: 14px;
      display:grid;
      gap: 10px;
    }

    .ticketImg{
      width:100%;
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(2,6,23,0.35);
      aspect-ratio: 16/10;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .ticketImg img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }
    .placeholder{
      padding: 14px;
      text-align:center;
      color: rgba(248,250,252,0.62);
      font-size: 13px;
      line-height: 1.35;
    }

    .details{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .kv{
      border: 1px solid rgba(148,163,184,0.16);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(17,24,39,0.20);
    }
    .kv small{ color: rgba(248,250,252,0.6); display:block; margin-bottom: 4px; }
    .kv div{ font-weight: 650; }

    .side{
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,0.18);
      background: rgba(17,24,39,0.24);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }
    .side .flirt{
      font-size: 16px;
      font-weight: 780;
      line-height: 1.25;
    }
    .side .tiny{
      color: rgba(248,250,252,0.68);
      font-size: 13px;
      line-height: 1.45;
    }
    .btnrow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 6px;
    }
    .btn{
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.22);
      background: rgba(17,24,39,0.28);
      color: var(--text);
      padding: 10px 12px;
      font-size: 14px;
      cursor:pointer;
    }
    .btn.primary{
      background: var(--accent);
      border: none;
      font-weight: 760;
      box-shadow: var(--glow);
    }

    /* Heart confetti */
    .confetti{
      position: fixed;
      inset:0;
      pointer-events:none;
      z-index: 10;
      overflow:hidden;
      display:none;
    }
    .confetti.show{ display:block; }
    .confetti span{
      position:absolute;
      top:-30px;
      font-size: 18px;
      opacity: 0.95;
      animation: fall 1.8s ease-in forwards;
      filter: drop-shadow(0 0 12px rgba(236,72,153,0.20));
      user-select:none;
    }
    @keyframes fall{
      to { transform: translate(var(--x), 110vh) rotate(var(--r)); opacity: 0.9; }
    }

    .signature{
      position: fixed;
      right: 14px;
      bottom: 12px;
      z-index: 2;
      color: rgba(248,250,252,0.55);
      font-size: 13px;
      pointer-events:none;
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <div class="confetti" id="confetti"></div>

  <div class="wrap">
    <div class="header">
      <div class="badge">
        <strong>For Anis</strong>
        <small>open in order üòå</small>
      </div>
      <div class="badge">
        <small>Destination:</small>
        <strong>Raleigh ‚Ä¢ May 12</strong>
      </div>
    </div>

    <div class="card">
      <div class="hero">
        <div class="moon" aria-hidden="true"></div>
        <h1>Two envelopes.</h1>
        <p class="sub">One is a letter. One is a surprise. Please follow instructions like a responsible doctor.</p>
      </div>

      <div class="stage">
        <div class="envelopeGrid">
          <!-- Envelope 1 -->
          <div class="env" id="env1">
            <div class="envTop">
              <div class="tag">Open me first</div>
              <div class="tag">üíå</div>
            </div>
            <div class="envTitle">A letter from Paris</div>
            <p class="envSub">No rush. Just you and me for a second.</p>

            <button class="envBtn" id="openLetter">Open envelope</button>

            <div class="hint" id="hint1">P.S. I‚Äôm watching. (kidding. mostly.)</div>

            <div class="envArt">
              <div class="back"></div>
              <div class="flap"></div>
              <div class="heart">üíö</div>
            </div>
          </div>

          <!-- Envelope 2 -->
          <div class="env" id="env2">
            <div class="envTop">
              <div class="tag">Open me second</div>
              <div class="tag">üéüÔ∏è</div>
            </div>
            <div class="envTitle">The surprise</div>
            <p class="envSub">You only get this after the letter. Don‚Äôt be rebellious.</p>

            <button class="envBtn secondary" id="openTickets" disabled style="opacity:0.55; cursor:not-allowed;">
              Locked üîí
            </button>

            <div class="hint" id="hint2">Read the letter first‚Ä¶ then come back.</div>

            <div class="envArt">
              <div class="back"></div>
              <div class="flap"></div>
              <div class="heart">üíñ</div>
            </div>
          </div>
        </div>

        <!-- Tickets area -->
        <div class="ticketArea" id="ticketArea">
          <div class="ticketVault">
            <div class="vaultTop">
              <div style="font-weight:780; letter-spacing:-0.01em;">Tickets just for you (and me)</div>
              <div class="pill">heart confetti approved</div>
            </div>

            <div class="ticketGrid">
              <div class="ticket">
                <div class="ticketHeader">
                  <div class="meta">
                    <strong>Kid Cudi ‚Äî Live</strong>
                    <span>Raleigh ‚Ä¢ May 12</span>
                  </div>
                  <div class="stamp">admit two</div>
                </div>

                <div class="ticketBody">
                  <div class="ticketImg" id="ticketImg">
                    <img id="ticketPic" src="" alt="Ticket image" style="display:none;" />
                    <div class="placeholder" id="ticketPlaceholder">
                      Add your ticket screenshots as <b>ticket1.jpg</b>, <b>ticket2.jpg</b><br/>
                      in the same folder as <b>index.html</b>.
                    </div>
                  </div>

                  <div class="details">
                    <div class="kv"><small>City</small><div>Raleigh</div></div>
                    <div class="kv"><small>Date</small><div>May 12</div></div>
                    <div class="kv"><small>Dress code</small><div>Hot.</div></div>
                    <div class="kv"><small>Vibe</small><div>Main character.</div></div>
                  </div>

                  <div class="btnrow">
                    <button class="btn" id="nextTicket">Next ticket</button>
                    <button class="btn" id="howTo">How to add ticket pics</button>
                  </div>

                  <div class="hint" id="ticketHint"></div>
                </div>
              </div>

              <div class="side">
                <div class="flirt">Okay now say thank you üòå</div>
                <div class="tiny">
                  You‚Äôve been working your ass off and I wanted you to have something fun on the calendar.
                  Raleigh. May 12. You + me + loud music.
                </div>

                <div class="btnrow">
                  <button class="btn primary" id="confettiAgain">More hearts</button>
                  <button class="btn" id="replay">Replay envelopes</button>
                </div>

                <div class="tiny" style="opacity:0.85;">
                  Love you (in a fun, flirty, not-scary way).
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="hint" style="margin-top:14px;">Tip: This works beautifully on GitHub Pages.</div>
      </div>
    </div>
  </div>

  <div class="signature">love, Paris</div>

  <!-- Letter Modal -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Letter">
      <div class="modalTop">
        <strong>To Anis üíö</strong>
        <button class="close" id="closeModal">Close</button>
      </div>
      <div class="modalBody" id="letterText"></div>
    </div>
  </div>

  <script>
    // === EDIT YOUR LETTER HERE ===
    // Keep it heartfelt + flirty. You can paste a longer letter too.
    const LETTER = `Anis,

I know things have been intense ‚Äî and I‚Äôm proud of you in the way that‚Äôs quiet but very real.

I just want you to remember: you don‚Äôt have to earn rest. You don‚Äôt have to be perfect to be loved.
You‚Äôre already enough.

Also‚Ä¶ you‚Äôre cute. And I miss you.
So I planned something for us. :)

Love,
Paris`;

    // Elements
    const env1 = document.getElementById("env1");
    const env2 = document.getElementById("env2");
    const openLetterBtn = document.getElementById("openLetter");
    const openTicketsBtn = document.getElementById("openTickets");
    const hint2 = document.getElementById("hint2");

    const modalOverlay = document.getElementById("modalOverlay");
    const closeModal = document.getElementById("closeModal");
    const letterText = document.getElementById("letterText");

    const ticketArea = document.getElementById("ticketArea");
    const confetti = document.getElementById("confetti");

    // Ticket images you upload alongside index.html
    const TICKETS = ["ticket1.jpg", "ticket2.jpg"]; // add more if you want
    let tIndex = 0;
    const ticketPic = document.getElementById("ticketPic");
    const ticketPlaceholder = document.getElementById("ticketPlaceholder");
    const ticketHint = document.getElementById("ticketHint");

    // Modal open/close
    function openModal(){
      letterText.textContent = LETTER;
      modalOverlay.classList.add("show");
      modalOverlay.setAttribute("aria-hidden","false");
    }
    function closeModalFn(){
      modalOverlay.classList.remove("show");
      modalOverlay.setAttribute("aria-hidden","true");
    }

    // Confetti hearts
    function heartConfetti(){
      confetti.innerHTML = "";
      confetti.classList.add("show");
      const hearts = ["üíó","üíñ","üíû","üíò","üíì","üíö","üíú"];
      for(let i=0;i<32;i++){
        const s = document.createElement("span");
        s.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        const left = Math.random()*100;
        const x = (Math.random()*700 - 350) + "px";
        const r = (Math.random()*520 - 260) + "deg";
        const delay = (Math.random()*220) + "ms";
        const size = 14 + Math.floor(Math.random()*16);
        s.style.left = left + "%";
        s.style.setProperty("--x", x);
        s.style.setProperty("--r", r);
        s.style.animationDelay = delay;
        s.style.fontSize = size + "px";
        confetti.appendChild(s);
        setTimeout(()=> s.remove(), 2100);
      }
      setTimeout(()=> confetti.classList.remove("show"), 1900);
    }

    // Enable tickets button after letter opened
    let letterOpened = false;

    openLetterBtn.addEventListener("click", ()=>{
      env1.classList.add("open");
      openModal();
      // unlock second envelope
      letterOpened = true;
      openTicketsBtn.disabled = false;
      openTicketsBtn.textContent = "Open envelope";
      openTicketsBtn.style.opacity = "1";
      openTicketsBtn.style.cursor = "pointer";
      hint2.textContent = "Okayyy now you can open it üòå";
    });

    closeModal.addEventListener("click", closeModalFn);
    modalOverlay.addEventListener("click", (e)=>{
      if(e.target === modalOverlay) closeModalFn();
    });

    // Tickets reveal
    function showTickets(){
      env2.classList.add("open");
      ticketArea.classList.add("show");
      heartConfetti();
      // attempt to load first ticket image (if it exists)
      tryLoadTicket(0);
      window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
    }

    openTicketsBtn.addEventListener("click", ()=>{
      if(!letterOpened) return;
      showTickets();
    });

    function tryLoadTicket(idx){
      if(!TICKETS.length) return;
      const src = TICKETS[idx];
      // try load image; if missing, keep placeholder
      const img = new Image();
      img.onload = ()=>{
        ticketPic.src = src;
        ticketPic.style.display = "block";
        ticketPlaceholder.style.display = "none";
        ticketHint.textContent = `Showing: ${src}`;
      };
      img.onerror = ()=>{
        ticketPic.style.display = "none";
        ticketPlaceholder.style.display = "block";
        ticketHint.textContent = `Couldn‚Äôt find ${src}. Make sure it‚Äôs uploaded next to index.html.`;
      };
      img.src = src;
    }

    document.getElementById("nextTicket").addEventListener("click", ()=>{
      if(!TICKETS.length) return;
      tIndex = (tIndex + 1) % TICKETS.length;
      tryLoadTicket(tIndex);
    });

    document.getElementById("howTo").addEventListener("click", ()=>{
      ticketHint.textContent =
        "How to add tickets: screenshot each ticket/QR ‚Üí save as ticket1.jpg, ticket2.jpg (or .png) ‚Üí upload them to the repo in the same folder as index.html.";
    });

    document.getElementById("confettiAgain").addEventListener("click", heartConfetti);

    document.getElementById("replay").addEventListener("click", ()=>{
      // reset visuals
      env1.classList.remove("open");
      env2.classList.remove("open");
      ticketArea.classList.remove("show");
      closeModalFn();
      // keep unlocked once opened (optional). If you want to re-lock, set letterOpened=false and disable button.
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>
